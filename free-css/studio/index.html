<!DOCTYPE html>
<html lang="en">
	<head>
		<script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.2.1.min.js"></script>
		<link rel="stylesheet" type="text/css" href="assets/css/style.css">
		<link rel="stylesheet" type="text/css" href="assets/css/boot.css">
		<link rel="stylesheet" type="text/css" href="assets/css/font-awesome.min.css">
		<link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="assets/css/bootstrap.css">
		<link rel="stylesheet" type="text/css" href="assets/css/style_common.css">
		<link rel="stylesheet" type="text/css" href="assets/css/style1.css">
		<link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:700,300,300italic'>
		<script src="assets/js/modernizr.custom.69142.js"></script>
		<script src="assets/js/jquery-1.10.1.min.js"></script>
		<script src="assets/js/bootstrap.min.js" ></script>
		<style>html,body{margin:0;padding:0;height:100%;overflow:hidden;} #vm_top_container{height:100%;overflow:auto;}</style>
	</head>
	<body>
		<!------------------------------------------------->
		<!-- contents and comunications with parent -->
		<div id=vm_top_container></div>
        <script>
			//------------------------------
			g_message=function(e){}; //will overwrited by content module
            $.ajaxSetup({cache:true});
			//------------------------------
			//load page content
			var page = window.location.href.split('&page=').pop();
            $('#vm_top_container').load('pages/'+page, function(){});
			//------------------------------
			//message from parent, call an overwrited function
            window.onmessage=function(e){
				g_message(e);
            };
			//------------------------------
			//ask parent to show source code of this module
            $('body').on('dblclick',function(){
                if(event.altKey){
                    var id=window.location.href.split('id=').pop().split('&')[0];
                    window.parent.postMessage({sandbox_id:'sandbox'+id,id:id,cmd:'source'},"*")
                }
            })
			//------------------------------
		</script>
		<!------------------------------------------------->
	</body>
</html>
